## 1. 문제 배경

### 1.1 기존 방식
- 원본 URL + Timestamp → SHA-256 해싱 → Base62 인코딩

### 1.2 발생한 문제
- 5만 건 요청 시 639건 충돌 발생 (충돌률 1.3%)
- 유일성 검사 및 재시도로 DB 부하 증가

## 2. 해결 전략 비교

### 2.1 UUID
- 128비트 무작위 값으로 충돌 확률 극히 낮음
- 36자 길이로 `짧은 URL` 목적에 부적합

### 2.2 Redis Atomic Counter
- Redis `INCR` 명령으로 고유 ID 생성
- 매 요청마다 Redis 통신 필요
- Redis 장애 시 전체 서비스 중단

### 2.3 Snowflake Algorithm (채택)
- 분산 환경에서 외부 통신 없이 고유 ID 생성
- Bitwise 연산만 수행하여 고성능
- 충돌 가능성 사실상 없음

## 3. 결과

| 항목              | 개선 전 | 개선 후 |
|-----------------|---------|---------|
| 충돌 건수 (5만 건 기준) | 639건 | **0건** |
| 생성 속도           | 141ms | **44ms** (3.2배) |
| 외부 의존성          | SHA-256 해싱 | 없음 |
