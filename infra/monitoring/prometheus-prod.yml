global:
  scrape_interval: 15s      # 메트릭 수집 주기
  evaluation_interval: 15s  # 규칙 평가 주기
  scrape_timeout: 10s       # 수집 타임아웃

# 메트릭 수집 대상
scrape_configs:
  # Prometheus 자체 메트릭
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']
        labels:
          service: 'prometheus'

  # URL Service
  - job_name: 'shortly-url-service'
    metrics_path: '/actuator/prometheus'
    static_configs:
      - targets: ['url-service:8081']
        labels:
          service: 'url-service'
          application: 'shortly-url-service'
          environment: 'prod'

  # Redirect Service
  - job_name: 'shortly-redirect-service'
    metrics_path: '/actuator/prometheus'
    static_configs:
      - targets: ['redirect-service:8082']
        labels:
          service: 'redirect-service'
          application: 'shortly-redirect-service'
          environment: 'prod'

  # Click Service
  - job_name: 'shortly-click-service'
    metrics_path: '/actuator/prometheus'
    static_configs:
      - targets: ['click-service:8083']
        labels:
          service: 'click-service'
          application: 'shortly-click-service'
          environment: 'prod'
